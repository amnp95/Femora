

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Custom Rectangular Grid &mdash; Femora (Fast Efficient Meshing for OpenSees-based Resilience Analysis) 0.5.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=b86133f3" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=9edc463e" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/custom.css?v=bbbd0671" />

  
      <script src="../../../_static/jquery.js?v=5d32c60e"></script>
      <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../../../_static/documentation_options.js?v=1dd76d02"></script>
      <script src="../../../_static/doctools.js?v=9a2dae69"></script>
      <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="../../../_static/js/copy-button.js?v=47d38097"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Geometric Rectangular Grid" href="GeometricRectangularGrid.html" />
    <link rel="prev" title="Uniform Rectangular Grid" href="UniformRectangularGrid.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html">
            
              <img src="../../../_static/Femoralogo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/getting_started.html">Getting Started with Femora</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/installation.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/quick_start.html">Quick Start Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../introduction/examples.html">Examples and Tutorials</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Technical Guide:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">Technical Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../materials.html">Material</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../elements.html">Element</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../damping.html">Damping</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../region.html">Region</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../meshparts.html">MeshPart</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../meshparts.html#understanding-the-meshpartmanager">Understanding the MeshPartManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../meshparts.html#accessing-the-meshpartmanager">Accessing the MeshPartManager</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../meshparts.html#how-meshpartmanager-works">How MeshPartManager Works</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../meshparts.html#meshpart-class-system">MeshPart Class System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../meshparts.html#meshpartmanager-api-reference">MeshPartManager API Reference</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../meshparts.html#mesh-part-creation">Mesh Part Creation</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../meshparts.html#available-mesh-part-types">Available Mesh Part Types</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Volume Mesh Types</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../assembler.html">Assembler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../constraint.html">Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../timeseries.html">TimeSeries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../pattern.html">Pattern</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../analysis.html">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../process.html">Process</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../drm.html">DRM</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Developer Documentation:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../developer/index.html">Developer Documentation</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Femora (Fast Efficient Meshing for OpenSees-based Resilience Analysis)</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Technical Documentation</a></li>
          <li class="breadcrumb-item"><a href="../../meshparts.html">MeshPart</a></li>
          <li class="breadcrumb-item"><a href="index.html">Volume Mesh Types</a></li>
      <li class="breadcrumb-item active">Custom Rectangular Grid</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/technical/meshparts/volume/CustomRectangularGrid.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="custom-rectangular-grid">
<h1>Custom Rectangular Grid<a class="headerlink" href="#custom-rectangular-grid" title="Link to this heading"></a></h1>
<p>The <code class="docutils literal notranslate"><span class="pre">Custom</span> <span class="pre">Rectangular</span> <span class="pre">Grid</span></code> mesh part type (implemented as <code class="docutils literal notranslate"><span class="pre">CustomRectangularGrid3D</span></code> in the code) creates a three-dimensional rectangular grid mesh with custom spacing in each direction. Unlike the Uniform Rectangular Grid, this mesh type allows you to specify the exact coordinates of grid points in each direction, enabling non-uniform spacing.</p>
<section id="parameters">
<h2>Parameters<a class="headerlink" href="#parameters" title="Link to this heading"></a></h2>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter Name</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>x_coords</p></td>
<td><p>List of X coordinates (comma-separated list of float values)</p></td>
</tr>
<tr class="row-odd"><td><p>y_coords</p></td>
<td><p>List of Y coordinates (comma-separated list of float values)</p></td>
</tr>
<tr class="row-even"><td><p>z_coords</p></td>
<td><p>List of Z coordinates (comma-separated list of float values)</p></td>
</tr>
</tbody>
</table>
<p>All parameters are required.</p>
</section>
<section id="compatible-elements">
<h2>Compatible Elements<a class="headerlink" href="#compatible-elements" title="Link to this heading"></a></h2>
<p>This mesh part type is compatible with the following elements:</p>
<ul class="simple">
<li><p>stdBrick</p></li>
<li><p>bbarBrick</p></li>
<li><p>SSPbrick</p></li>
<li><p>PML3D</p></li>
</ul>
</section>
<section id="usage-example">
<h2>Usage Example<a class="headerlink" href="#usage-example" title="Link to this heading"></a></h2>
<p>The following example demonstrates how to create a 3D rectangular domain with custom spacing using the Custom Rectangular Grid mesh part type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">femora</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">fm</span>

<span class="c1"># Create a Femora instance</span>


<span class="c1"># Create a material</span>
<span class="n">material</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">material</span><span class="o">.</span><span class="n">create_material</span><span class="p">(</span>
    <span class="n">material_category</span><span class="o">=</span><span class="s2">&quot;nDMaterial&quot;</span><span class="p">,</span>
    <span class="n">material_type</span><span class="o">=</span><span class="s2">&quot;ElasticIsotropic&quot;</span><span class="p">,</span>
    <span class="n">user_name</span><span class="o">=</span><span class="s2">&quot;Rock&quot;</span><span class="p">,</span>
    <span class="n">E</span><span class="o">=</span><span class="mf">50e3</span><span class="p">,</span>
    <span class="n">nu</span><span class="o">=</span><span class="mf">0.25</span><span class="p">,</span>
    <span class="n">rho</span><span class="o">=</span><span class="mf">2.5e-9</span>
<span class="p">)</span>

<span class="c1"># Create an element using this material</span>
<span class="n">element</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">element</span><span class="o">.</span><span class="n">create_element</span><span class="p">(</span>
    <span class="n">element_type</span><span class="o">=</span><span class="s2">&quot;stdBrick&quot;</span><span class="p">,</span>
    <span class="n">ndof</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span>
    <span class="n">material</span><span class="o">=</span><span class="n">material</span><span class="p">,</span>
    <span class="n">b1</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">b2</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="n">b3</span><span class="o">=-</span><span class="mf">9.81</span><span class="o">*</span><span class="mf">2.5e-9</span>
<span class="p">)</span>

<span class="c1"># Create a region with damping</span>
<span class="n">damping</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">damping</span><span class="o">.</span><span class="n">create_damping</span><span class="p">(</span><span class="s2">&quot;frequency rayleigh&quot;</span><span class="p">,</span> <span class="n">dampingFactor</span><span class="o">=</span><span class="mf">0.03</span><span class="p">,</span> <span class="n">f1</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">f2</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>
<span class="n">region</span> <span class="o">=</span> <span class="n">fm</span><span class="o">.</span><span class="n">region</span><span class="o">.</span><span class="n">create_region</span><span class="p">(</span><span class="s2">&quot;elementRegion&quot;</span><span class="p">,</span> <span class="n">damping</span><span class="o">=</span><span class="n">damping</span><span class="p">)</span>

<span class="c1"># Create the custom rectangular grid mesh part with non-uniform spacing</span>
<span class="n">fm</span><span class="o">.</span><span class="n">meshPart</span><span class="o">.</span><span class="n">create_mesh_part</span><span class="p">(</span>
    <span class="s2">&quot;Volume mesh&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Custom Rectangular Grid&quot;</span><span class="p">,</span>
    <span class="n">user_name</span><span class="o">=</span><span class="s2">&quot;RockFormation&quot;</span><span class="p">,</span>
    <span class="n">element</span><span class="o">=</span><span class="n">element</span><span class="p">,</span>
    <span class="n">region</span><span class="o">=</span><span class="n">region</span><span class="p">,</span>
    <span class="o">**</span><span class="p">{</span>
        <span class="c1"># Finer spacing near the center in X direction</span>
        <span class="s1">&#39;x_coords&#39;</span><span class="p">:</span> <span class="s2">&quot;-50,-40,-30,-25,-20,-15,-10,-5,0,5,10,15,20,25,30,40,50&quot;</span><span class="p">,</span>
        <span class="c1"># Uniform spacing in Y direction</span>
        <span class="s1">&#39;y_coords&#39;</span><span class="p">:</span> <span class="s2">&quot;-50,-40,-30,-20,-10,0,10,20,30,40,50&quot;</span><span class="p">,</span>
        <span class="c1"># Finer spacing near the surface in Z direction</span>
        <span class="s1">&#39;z_coords&#39;</span><span class="p">:</span> <span class="s2">&quot;-20,-18,-16,-14,-12,-10,-8,-6,-4,-2,-1,-0.5,0&quot;</span>
    <span class="p">}</span>
<span class="p">)</span>
</pre></div>
</div>
</section>
<section id="notes">
<h2>Notes<a class="headerlink" href="#notes" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Used for creating 3D meshes with variable spacing in each direction</p></li>
<li><p>Suitable for problems requiring non-uniform mesh density</p></li>
<li><p>Useful when specific grid point locations are needed</p></li>
<li><p>Allows for refinement in areas of interest without increasing the overall mesh density</p></li>
<li><p>Consider gradual transitions in spacing for better numerical results</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="UniformRectangularGrid.html" class="btn btn-neutral float-left" title="Uniform Rectangular Grid" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="GeometricRectangularGrid.html" class="btn btn-neutral float-right" title="Geometric Rectangular Grid" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2025, Amin Pakzad.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>